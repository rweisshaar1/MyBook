{% include 'components/header.html' %}
{% include 'components/navbar.html' %}

<main>
  <div class="container mt-2">

    <h1>MyBook</h1>

    <div class="row">
      <form class="mt-2 col-md-6" hx-get="/search" hx-params="search,radioOptions"
      hx-target="#Results" hx-swap="innerHTML">
          <div class="d-flex mb-2">
              <div class="form-outline flex-grow-1 me-2" data-mdb-input-init>
                  <input type="text" name="search" id="search" class="form-control" />
                  <label class="form-label" for="search">Search</label>
              </div>
              <button type="submit" class="btn btn-primary" data-mdb-ripple-init>Search</button>
          </div>
          <div class="d-flex">
              <div class="me-2">
                  Search By:
              </div>
              <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="radioOptions" id="inlineRadio1" value="title" checked/>
                  <label class="form-check-label" for="inlineRadio1">Title</label>
              </div>
              <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="radioOptions" id="inlineRadio2" value="author" />
                  <label class="form-check-label" for="inlineRadio2">Author</label>
              </div>
          </div>
      </form>
  </div>

    <div class="container" id="Results">
      <div class="">
        <h2>Recommended For You:</h2>
        <div class="row">
        {% for book in recommended_books %}
        <div class="col-md-4">
          <a href="/book/{{book.book_id}}" class="no-color hover">
          <div class="card">
            <div class="card-body">
              <h4 class="card-title">{{book.title}}</h4>
              <img src="{{book.image}}" alt="Book image"/>
              <p>{{book.authors}}</p>
            </div>
          </div>  
        </a>
        </div>
      {% endfor %}
        </div>

        <h2>Reading</h2>
        <div class="row">
        {% for book in books %}
        {% if book.status == "Reading" %}
        <div class="col-md-4">
          <a href="/book/{{book.book_id}}" class="no-color hover">
          <div class="card">
            <div class="card-body">
              <h3>Book Details:</h3>
              <h4 class="card-title">{{book.title}}</h4>
              <img src="{{book.image}}" alt="Book image"/>
              <p>{{book.authors}}</p>
            </div>
          </div>  
        </a>
        </div>
        {% endif %}
      {% endfor %}
      </div>
      </div>

      <div class="">
        <h2>Want to Read</h2>

      </div>

      <div class="">
        <h2>Friends Reads</h2>

      </div>
    </div>

  </div>


</main>

{% include 'components/footer.html' %}